[manifest]
format = "fcp-connector-manifest"
schema_version = "2.1"
min_mesh_version = "2.0.0"
min_protocol = "fcp2-sym/2.0"
protocol_features = []
max_datagram_bytes = 65000
interface_hash = "blake3-256:fcp.interface.v2:ed36328e5236c5c014c011cf944ae882fd51f4ff07107bed1c4927eb27298cfd"

[connector]
id = "fcp.twitter"
name = "Twitter/X Connector"
version = "0.1.0"
description = "FCP connector for Twitter/X API with REST operations and filtered stream support"
archetypes = [
    "operational",
    "streaming",
    "bidirectional",
]
format = "native"

[connector.state]
model = "stateless"
state_schema_version = "1"
migration_hint = "init"

[zones]
home = "z:work"
allowed_sources = [
    "z:owner",
    "z:private",
    "z:work",
]
allowed_targets = ["z:work"]
forbidden = ["z:public"]

[capabilities]
required = [
    "network.dns",
    "network.egress",
    "network.tls.sni",
]
optional = []
forbidden = [
    "system.exec",
    "network.listen",
    "storage.state",
]

[provides.operations."twitter.stream.rules.add"]
description = "Add filter rules to the tweet stream"
capability = "twitter.stream"
risk_level = "medium"
safety_tier = "risky"
requires_approval = "policy"
idempotency = "none"

[provides.operations."twitter.stream.rules.add".rate_limit]
max = 450
per_ms = 900000

[provides.operations."twitter.stream.rules.add".input_schema]
required = ["rules"]
type = "object"

[provides.operations."twitter.stream.rules.add".input_schema.properties.rules]
description = "Array of filter rules to add"
maxItems = 25
type = "array"

[provides.operations."twitter.stream.rules.add".input_schema.properties.rules.items]
type = "object"

[provides.operations."twitter.stream.rules.add".input_schema.properties.rules.items.properties.tag]
description = "Optional label for the rule"
type = "string"

[provides.operations."twitter.stream.rules.add".input_schema.properties.rules.items.properties.value]
description = "Filter rule (Twitter filter syntax)"
maxLength = 512
type = "string"

[provides.operations."twitter.stream.rules.add".output_schema]
required = []
type = "object"

[provides.operations."twitter.stream.rules.add".output_schema.properties.errors]
type = "array"

[provides.operations."twitter.stream.rules.add".output_schema.properties.meta]
type = "object"

[provides.operations."twitter.stream.rules.add".output_schema.properties.rules]
type = "array"

[provides.operations."twitter.stream.rules.add".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 1048576

[provides.operations."twitter.stream.rules.add".ai_hints]
when_to_use = "Add rules to filter the real-time tweet stream."
common_mistakes = [
    "Invalid filter syntax.",
    "Exceeding rule limits (25 rules, 512 chars each).",
]
examples = ['{"rules": [{"value": "from:TwitterDev", "tag": "dev_tweets"}]}']
related = [
    "twitter.stream.rules.list",
    "twitter.stream.rules.delete",
]

[provides.operations."twitter.stream.rules.delete"]
description = "Delete filter rules from the tweet stream"
capability = "twitter.stream"
risk_level = "medium"
safety_tier = "risky"
requires_approval = "policy"
idempotency = "strict"

[provides.operations."twitter.stream.rules.delete".rate_limit]
max = 450
per_ms = 900000

[provides.operations."twitter.stream.rules.delete".input_schema]
required = ["ids"]
type = "object"

[provides.operations."twitter.stream.rules.delete".input_schema.properties.ids]
description = "Array of rule IDs to delete"
type = "array"

[provides.operations."twitter.stream.rules.delete".input_schema.properties.ids.items]
type = "string"

[provides.operations."twitter.stream.rules.delete".output_schema]
required = []
type = "object"

[provides.operations."twitter.stream.rules.delete".output_schema.properties.errors]
type = "array"

[provides.operations."twitter.stream.rules.delete".output_schema.properties.meta]
type = "object"

[provides.operations."twitter.stream.rules.delete".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 1048576

[provides.operations."twitter.stream.rules.delete".ai_hints]
when_to_use = "Remove filter rules from the tweet stream."
common_mistakes = ["Using rule value instead of rule ID."]
examples = ['{"ids": ["1234567890"]}']
related = [
    "twitter.stream.rules.list",
    "twitter.stream.rules.add",
]

[provides.operations."twitter.stream.rules.list"]
description = "List active filtered stream rules"
capability = "twitter.stream"
risk_level = "low"
safety_tier = "safe"
requires_approval = "none"
idempotency = "strict"

[provides.operations."twitter.stream.rules.list".rate_limit]
max = 450
per_ms = 900000

[provides.operations."twitter.stream.rules.list".input_schema]
required = []
type = "object"

[provides.operations."twitter.stream.rules.list".output_schema]
required = []
type = "object"

[provides.operations."twitter.stream.rules.list".output_schema.properties.rules]
type = "array"

[provides.operations."twitter.stream.rules.list".output_schema.properties.rules.items]
type = "object"

[provides.operations."twitter.stream.rules.list".output_schema.properties.rules.items.properties.id]
type = "string"

[provides.operations."twitter.stream.rules.list".output_schema.properties.rules.items.properties.tag]
type = "string"

[provides.operations."twitter.stream.rules.list".output_schema.properties.rules.items.properties.value]
type = "string"

[provides.operations."twitter.stream.rules.list".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 1048576

[provides.operations."twitter.stream.rules.list".ai_hints]
when_to_use = "View current filter rules for the tweet stream."
common_mistakes = []
examples = ["{}"]
related = [
    "twitter.stream.rules.add",
    "twitter.stream.rules.delete",
]

[provides.operations."twitter.tweet.create"]
description = "Post a new tweet (max 280 characters)"
capability = "twitter.write"
risk_level = "high"
safety_tier = "risky"
requires_approval = "policy"
idempotency = "none"

[provides.operations."twitter.tweet.create".rate_limit]
max = 200
per_ms = 86400000

[provides.operations."twitter.tweet.create".input_schema]
required = ["text"]
type = "object"

[provides.operations."twitter.tweet.create".input_schema.properties.text]
description = "Tweet text content (max 280 characters)"
maxLength = 280
minLength = 1
type = "string"

[provides.operations."twitter.tweet.create".output_schema]
required = ["tweet"]
type = "object"

[provides.operations."twitter.tweet.create".output_schema.properties.tweet]
type = "object"

[provides.operations."twitter.tweet.create".output_schema.properties.tweet.properties.id]
description = "Created tweet ID"
type = "string"

[provides.operations."twitter.tweet.create".output_schema.properties.tweet.properties.text]
type = "string"

[provides.operations."twitter.tweet.create".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 1048576

[provides.operations."twitter.tweet.create".ai_hints]
when_to_use = "Post a new public tweet. This is visible to all followers."
common_mistakes = [
    "Exceeding 280 character limit.",
    "Not considering the public nature of tweets.",
]
examples = ['{"text": "Hello from FCP!"}']
related = [
    "twitter.tweet.reply",
    "twitter.tweet.delete",
]

[provides.operations."twitter.tweet.delete"]
description = "Delete a tweet (irreversible)"
capability = "twitter.delete"
risk_level = "high"
safety_tier = "dangerous"
requires_approval = "interactive"
idempotency = "strict"

[provides.operations."twitter.tweet.delete".rate_limit]
max = 50
per_ms = 900000

[provides.operations."twitter.tweet.delete".input_schema]
required = ["tweet_id"]
type = "object"

[provides.operations."twitter.tweet.delete".input_schema.properties.tweet_id]
description = "Tweet ID to delete"
pattern = "^[0-9]+$"
type = "string"

[provides.operations."twitter.tweet.delete".output_schema]
required = ["deleted"]
type = "object"

[provides.operations."twitter.tweet.delete".output_schema.properties.deleted]
description = "Whether the tweet was deleted"
type = "boolean"

[provides.operations."twitter.tweet.delete".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 1048576

[provides.operations."twitter.tweet.delete".ai_hints]
when_to_use = "Permanently delete a tweet. This cannot be undone."
common_mistakes = [
    "Deleting wrong tweet - always verify the tweet_id.",
    "Can only delete your own tweets.",
]
examples = ['{"tweet_id": "1234567890123456789"}']
related = ["twitter.tweet.get"]

[provides.operations."twitter.tweet.get"]
description = "Get a single tweet by its ID"
capability = "twitter.read"
risk_level = "low"
safety_tier = "safe"
requires_approval = "none"
idempotency = "strict"

[provides.operations."twitter.tweet.get".rate_limit]
max = 300
per_ms = 900000

[provides.operations."twitter.tweet.get".input_schema]
required = ["tweet_id"]
type = "object"

[provides.operations."twitter.tweet.get".input_schema.properties.tweet_id]
description = "Tweet ID (numeric string)"
pattern = "^[0-9]+$"
type = "string"

[provides.operations."twitter.tweet.get".output_schema]
required = ["tweet"]
type = "object"

[provides.operations."twitter.tweet.get".output_schema.properties.tweet]
type = "object"

[provides.operations."twitter.tweet.get".output_schema.properties.tweet.properties.author_id]
type = "string"

[provides.operations."twitter.tweet.get".output_schema.properties.tweet.properties.id]
type = "string"

[provides.operations."twitter.tweet.get".output_schema.properties.tweet.properties.text]
type = "string"

[provides.operations."twitter.tweet.get".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 1048576

[provides.operations."twitter.tweet.get".ai_hints]
when_to_use = "Retrieve a specific tweet by its ID."
common_mistakes = ["Using tweet URL instead of numeric ID."]
examples = ['{"tweet_id": "1234567890123456789"}']
related = [
    "twitter.tweet.search",
    "twitter.user.timeline",
]

[provides.operations."twitter.tweet.reply"]
description = "Reply to an existing tweet"
capability = "twitter.write"
risk_level = "high"
safety_tier = "risky"
requires_approval = "policy"
idempotency = "none"

[provides.operations."twitter.tweet.reply".rate_limit]
max = 200
per_ms = 86400000

[provides.operations."twitter.tweet.reply".input_schema]
required = [
    "text",
    "reply_to",
]
type = "object"

[provides.operations."twitter.tweet.reply".input_schema.properties.reply_to]
description = "Tweet ID to reply to"
pattern = "^[0-9]+$"
type = "string"

[provides.operations."twitter.tweet.reply".input_schema.properties.text]
description = "Reply text content (max 280 characters)"
maxLength = 280
minLength = 1
type = "string"

[provides.operations."twitter.tweet.reply".output_schema]
required = ["tweet"]
type = "object"

[provides.operations."twitter.tweet.reply".output_schema.properties.tweet]
type = "object"

[provides.operations."twitter.tweet.reply".output_schema.properties.tweet.properties.id]
type = "string"

[provides.operations."twitter.tweet.reply".output_schema.properties.tweet.properties.text]
type = "string"

[provides.operations."twitter.tweet.reply".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 1048576

[provides.operations."twitter.tweet.reply".ai_hints]
when_to_use = "Reply to an existing tweet. Creates a public reply in the thread."
common_mistakes = [
    "Using tweet URL instead of numeric tweet ID.",
    "Exceeding 280 character limit.",
]
examples = ['{"text": "Great point!", "reply_to": "1234567890123456789"}']
related = [
    "twitter.tweet.create",
    "twitter.tweet.get",
]

[provides.operations."twitter.tweet.search"]
description = "Search recent tweets (last 7 days) matching a query"
capability = "twitter.read"
risk_level = "low"
safety_tier = "safe"
requires_approval = "none"
idempotency = "strict"

[provides.operations."twitter.tweet.search".rate_limit]
max = 180
per_ms = 900000

[provides.operations."twitter.tweet.search".input_schema]
required = ["query"]
type = "object"

[provides.operations."twitter.tweet.search".input_schema.properties.max_results]
default = 10
description = "Maximum tweets to return (10-100)"
maximum = 100
minimum = 10
type = "integer"

[provides.operations."twitter.tweet.search".input_schema.properties.next_token]
description = "Pagination token for next page"
type = "string"

[provides.operations."twitter.tweet.search".input_schema.properties.query]
description = "Search query (Twitter search syntax supported)"
maxLength = 512
type = "string"

[provides.operations."twitter.tweet.search".input_schema.properties.since_id]
description = "Return tweets after this tweet ID"
type = "string"

[provides.operations."twitter.tweet.search".input_schema.properties.sort_order]
description = "Sort order: recency or relevancy"
enum = [
    "recency",
    "relevancy",
]
type = "string"

[provides.operations."twitter.tweet.search".output_schema]
required = []
type = "object"

[provides.operations."twitter.tweet.search".output_schema.properties.meta]
type = "object"

[provides.operations."twitter.tweet.search".output_schema.properties.meta.properties.next_token]
type = "string"

[provides.operations."twitter.tweet.search".output_schema.properties.meta.properties.result_count]
type = "integer"

[provides.operations."twitter.tweet.search".output_schema.properties.tweets]
type = "array"

[provides.operations."twitter.tweet.search".output_schema.properties.tweets.items]
type = "object"

[provides.operations."twitter.tweet.search".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 60000
max_response_bytes = 10485760

[provides.operations."twitter.tweet.search".ai_hints]
when_to_use = "Search for recent tweets. Only returns tweets from the last 7 days."
common_mistakes = [
    "Expecting historical tweets beyond 7 days.",
    "Not handling pagination for large result sets.",
]
examples = [
    '{"query": "from:TwitterDev"}',
    '{"query": "#rust lang:en", "max_results": 25}',
]
related = [
    "twitter.user.timeline",
    "twitter.tweet.get",
]

[provides.operations."twitter.user.by_username"]
description = "Get a user's profile by their username (handle)"
capability = "twitter.read"
risk_level = "low"
safety_tier = "safe"
requires_approval = "none"
idempotency = "strict"

[provides.operations."twitter.user.by_username".rate_limit]
max = 300
per_ms = 900000

[provides.operations."twitter.user.by_username".input_schema]
required = ["username"]
type = "object"

[provides.operations."twitter.user.by_username".input_schema.properties.username]
description = "Twitter username/handle (with or without @)"
pattern = "^@?[A-Za-z0-9_]{1,15}$"
type = "string"

[provides.operations."twitter.user.by_username".output_schema]
required = ["user"]
type = "object"

[provides.operations."twitter.user.by_username".output_schema.properties.user]
type = "object"

[provides.operations."twitter.user.by_username".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 1048576

[provides.operations."twitter.user.by_username".ai_hints]
when_to_use = "Look up a user by their Twitter handle. The @ prefix is optional."
common_mistakes = ["Forgetting this is case-insensitive."]
examples = [
    '{"username": "elonmusk"}',
    '{"username": "@TwitterDev"}',
]
related = [
    "twitter.user.get",
    "twitter.user.timeline",
]

[provides.operations."twitter.user.get"]
description = "Get a user's profile by their numeric user ID"
capability = "twitter.read"
risk_level = "low"
safety_tier = "safe"
requires_approval = "none"
idempotency = "strict"

[provides.operations."twitter.user.get".rate_limit]
max = 300
per_ms = 900000

[provides.operations."twitter.user.get".input_schema]
required = ["user_id"]
type = "object"

[provides.operations."twitter.user.get".input_schema.properties.user_id]
description = "Twitter user ID (numeric string)"
pattern = "^[0-9]+$"
type = "string"

[provides.operations."twitter.user.get".output_schema]
required = ["user"]
type = "object"

[provides.operations."twitter.user.get".output_schema.properties.user]
type = "object"

[provides.operations."twitter.user.get".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 1048576

[provides.operations."twitter.user.get".ai_hints]
when_to_use = "Look up a user by their numeric ID. Use twitter.user.by_username if you have a handle."
common_mistakes = ["Passing username instead of numeric ID."]
examples = ['{"user_id": "12345678901234567"}']
related = [
    "twitter.user.by_username",
    "twitter.user.me",
]

[provides.operations."twitter.user.me"]
description = "Get the authenticated user's profile information"
capability = "twitter.read"
risk_level = "low"
safety_tier = "safe"
requires_approval = "none"
idempotency = "strict"

[provides.operations."twitter.user.me".rate_limit]
max = 75
per_ms = 900000

[provides.operations."twitter.user.me".input_schema]
required = []
type = "object"

[provides.operations."twitter.user.me".output_schema]
required = ["user"]
type = "object"

[provides.operations."twitter.user.me".output_schema.properties.user]
description = "Authenticated user object"
type = "object"

[provides.operations."twitter.user.me".output_schema.properties.user.properties.id]
description = "User ID"
type = "string"

[provides.operations."twitter.user.me".output_schema.properties.user.properties.name]
description = "Display name"
type = "string"

[provides.operations."twitter.user.me".output_schema.properties.user.properties.username]
description = "Twitter handle (without @)"
type = "string"

[provides.operations."twitter.user.me".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 1048576

[provides.operations."twitter.user.me".ai_hints]
when_to_use = "Get information about the currently authenticated user."
common_mistakes = []
examples = ["{}"]
related = [
    "twitter.user.get",
    "twitter.user.by_username",
]

[provides.operations."twitter.user.mentions"]
description = "Get tweets mentioning a user"
capability = "twitter.read"
risk_level = "low"
safety_tier = "safe"
requires_approval = "none"
idempotency = "strict"

[provides.operations."twitter.user.mentions".rate_limit]
max = 180
per_ms = 900000

[provides.operations."twitter.user.mentions".input_schema]
required = []
type = "object"

[provides.operations."twitter.user.mentions".input_schema.properties.max_results]
default = 10
description = "Maximum mentions to return (5-100)"
maximum = 100
minimum = 5
type = "integer"

[provides.operations."twitter.user.mentions".input_schema.properties.pagination_token]
description = "Pagination token for next page"
type = "string"

[provides.operations."twitter.user.mentions".input_schema.properties.user_id]
description = "Twitter user ID (defaults to authenticated user)"
pattern = "^[0-9]+$"
type = "string"

[provides.operations."twitter.user.mentions".output_schema]
required = []
type = "object"

[provides.operations."twitter.user.mentions".output_schema.properties.meta]
type = "object"

[provides.operations."twitter.user.mentions".output_schema.properties.tweets]
type = "array"

[provides.operations."twitter.user.mentions".output_schema.properties.tweets.items]
type = "object"

[provides.operations."twitter.user.mentions".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 10485760

[provides.operations."twitter.user.mentions".ai_hints]
when_to_use = "Get tweets that mention a user. Defaults to the authenticated user if no user_id provided."
common_mistakes = []
examples = [
    "{}",
    '{"user_id": "12345678901234567", "max_results": 25}',
]
related = [
    "twitter.user.timeline",
    "twitter.tweet.search",
]

[provides.operations."twitter.user.timeline"]
description = "Get a user's recent tweets"
capability = "twitter.read"
risk_level = "low"
safety_tier = "safe"
requires_approval = "none"
idempotency = "strict"

[provides.operations."twitter.user.timeline".rate_limit]
max = 1500
per_ms = 900000

[provides.operations."twitter.user.timeline".input_schema]
required = ["user_id"]
type = "object"

[provides.operations."twitter.user.timeline".input_schema.properties.max_results]
default = 10
description = "Maximum tweets to return (5-100)"
maximum = 100
minimum = 5
type = "integer"

[provides.operations."twitter.user.timeline".input_schema.properties.pagination_token]
description = "Pagination token for next page"
type = "string"

[provides.operations."twitter.user.timeline".input_schema.properties.user_id]
description = "Twitter user ID"
pattern = "^[0-9]+$"
type = "string"

[provides.operations."twitter.user.timeline".output_schema]
required = []
type = "object"

[provides.operations."twitter.user.timeline".output_schema.properties.meta]
type = "object"

[provides.operations."twitter.user.timeline".output_schema.properties.tweets]
type = "array"

[provides.operations."twitter.user.timeline".output_schema.properties.tweets.items]
type = "object"

[provides.operations."twitter.user.timeline".network_constraints]
host_allow = [
    "api.twitter.com",
    "api.x.com",
    "stream.twitter.com",
]
port_allow = [443]
ip_allow = []
cidr_deny = []
deny_localhost = true
deny_private_ranges = true
deny_tailnet_ranges = true
require_sni = true
spki_pins = []
deny_ip_literals = true
require_host_canonicalization = true
dns_max_ips = 16
max_redirects = 5
connect_timeout_ms = 10000
total_timeout_ms = 30000
max_response_bytes = 10485760

[provides.operations."twitter.user.timeline".ai_hints]
when_to_use = "Get a user's recent tweets. Use twitter.user.by_username first to get the user_id."
common_mistakes = ["Passing username instead of numeric user_id."]
examples = ['{"user_id": "12345678901234567", "max_results": 20}']
related = [
    "twitter.user.by_username",
    "twitter.user.mentions",
]

[sandbox]
profile = "strict"
memory_mb = 256
cpu_percent = 50
wall_clock_timeout_ms = 120000
fs_readonly_paths = [
    "/usr",
    "/lib",
]
fs_writable_paths = []
deny_exec = true
deny_ptrace = true

[[rate_limits.pools]]
id = "twitter.read"
requests = 300
window_ms = 900000
burst = 50
scope = "instance"

[[rate_limits.pools]]
id = "twitter.write"
requests = 200
window_ms = 86400000
burst = 10
scope = "instance"

[[rate_limits.pools]]
id = "twitter.delete"
requests = 50
window_ms = 900000
burst = 5
scope = "instance"

[[rate_limits.pools]]
id = "twitter.stream"
requests = 450
window_ms = 900000
burst = 50
scope = "instance"

[rate_limits.operation_pools]
"twitter.stream.rules.add" = ["twitter.stream"]
"twitter.stream.rules.delete" = ["twitter.stream"]
"twitter.tweet.reply" = ["twitter.write"]
"twitter.user.me" = ["twitter.read"]
"twitter.user.get" = ["twitter.read"]
"twitter.tweet.get" = ["twitter.read"]
"twitter.user.by_username" = ["twitter.read"]
"twitter.user.mentions" = ["twitter.read"]
"twitter.tweet.create" = ["twitter.write"]
"twitter.user.timeline" = ["twitter.read"]
"twitter.tweet.search" = ["twitter.read"]
"twitter.tweet.delete" = ["twitter.delete"]
"twitter.stream.rules.list" = ["twitter.stream"]
