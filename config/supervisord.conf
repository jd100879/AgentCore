; AgentCore Supervisord Configuration
; Manages mail monitors and beadmonitor processes
;
; Usage:
;   Start:  supervisord -c /Users/james/Projects/AgentCore/config/supervisord.conf
;   Status: supervisorctl -c /Users/james/Projects/AgentCore/config/supervisord.conf status
;   Stop:   supervisorctl -c /Users/james/Projects/AgentCore/config/supervisord.conf shutdown

[unix_http_server]
file=/Users/james/Projects/AgentCore/tmp/supervisor.sock
chmod=0700

[supervisord]
logfile=/Users/james/Projects/AgentCore/logs/supervisord.log
logfile_maxbytes=50MB
logfile_backups=10
loglevel=info
pidfile=/Users/james/Projects/AgentCore/pids/supervisord.pid
nodaemon=false
minfds=1024
minprocs=200

[rpcinterface:supervisor]
supervisor.rpcinterface_factory = supervisor.rpcinterface:make_main_rpcinterface

[supervisorctl]
serverurl=unix:///Users/james/Projects/AgentCore/tmp/supervisor.sock

; ============================================================================
; Mail Monitor Processes (one per agent)
; ============================================================================

[program:mail-monitor-orangelantern]
command=/Users/james/Projects/AgentCore/scripts/monitor-agent-mail-to-terminal.sh OrangeLantern 10
directory=/Users/james/Projects/AgentCore
autostart=true
autorestart=true
startretries=5
startsecs=10
stdout_logfile=/Users/james/Projects/AgentCore/logs/mail-monitor-orangelantern.log
stderr_logfile=/Users/james/Projects/AgentCore/logs/mail-monitor-orangelantern.err
environment=MONITOR_SAFE_PANE="agentcore-orangelantern",PROJECT_ROOT="/Users/james/Projects/AgentCore"

[program:mail-monitor-quietcreek]
command=/Users/james/Projects/AgentCore/scripts/monitor-agent-mail-to-terminal.sh QuietCreek 10
directory=/Users/james/Projects/AgentCore
autostart=true
autorestart=true
startretries=5
startsecs=10
stdout_logfile=/Users/james/Projects/AgentCore/logs/mail-monitor-quietcreek.log
stderr_logfile=/Users/james/Projects/AgentCore/logs/mail-monitor-quietcreek.err
environment=MONITOR_SAFE_PANE="agentcore-quietcreek",PROJECT_ROOT="/Users/james/Projects/AgentCore"

[program:mail-monitor-fuchsiadog]
command=/Users/james/Projects/AgentCore/scripts/monitor-agent-mail-to-terminal.sh FuchsiaDog 10
directory=/Users/james/Projects/AgentCore
autostart=true
autorestart=true
startretries=5
startsecs=10
stdout_logfile=/Users/james/Projects/AgentCore/logs/mail-monitor-fuchsiadog.log
stderr_logfile=/Users/james/Projects/AgentCore/logs/mail-monitor-fuchsiadog.err
environment=MONITOR_SAFE_PANE="agentcore-fuchsiadog",PROJECT_ROOT="/Users/james/Projects/AgentCore"

[program:mail-monitor-topazdeer]
command=/Users/james/Projects/AgentCore/scripts/monitor-agent-mail-to-terminal.sh TopazDeer 10
directory=/Users/james/Projects/AgentCore
autostart=true
autorestart=true
startretries=5
startsecs=10
stdout_logfile=/Users/james/Projects/AgentCore/logs/mail-monitor-topazdeer.log
stderr_logfile=/Users/james/Projects/AgentCore/logs/mail-monitor-topazdeer.err
environment=MONITOR_SAFE_PANE="agentcore-topazdeer",PROJECT_ROOT="/Users/james/Projects/AgentCore"

; ============================================================================
; Bead Stale Monitor (checks for abandoned work)
; ============================================================================

[program:beadmonitor]
command=/Users/james/Projects/AgentCore/scripts/bead-stale-monitor-daemon.sh 60
directory=/Users/james/Projects/AgentCore
autostart=true
autorestart=true
startretries=5
startsecs=10
stdout_logfile=/Users/james/Projects/AgentCore/logs/beadmonitor.log
stderr_logfile=/Users/james/Projects/AgentCore/logs/beadmonitor.err

; ============================================================================
; Process Groups (for easy management)
; ============================================================================

[group:agentcore-monitors]
programs=mail-monitor-orangelantern,mail-monitor-quietcreek,mail-monitor-fuchsiadog,mail-monitor-topazdeer,beadmonitor
priority=999
