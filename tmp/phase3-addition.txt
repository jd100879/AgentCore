Hi ChatGPT,

User feedback: "So after the swap do the symlinks ultimately get removed? The whole purpose is to get a clean structure."

You're right - we need to clarify the end state. The symlinks are migration aids, not the final structure.

## Proposed Phase 3: Complete Cleanup

**Goal**: Remove ALL legacy paths and symlinks for a truly clean structure.

**Actions**:
1. Update ALL scripts to use `AGENTCORE_ROOT` exclusively (no fallbacks to old paths)
2. Delete backward-compatibility symlinks:
   - Remove `.beads` → (was pointing to agentcore/state/beads)
   - Remove `.flywheel` → (was pointing to agentcore/config/flywheel)
   - Remove `.agent-profiles`, `.agent-workflows`, `.active-agents` symlinks
   - Remove `.session-state` symlink
3. Delete now-empty top-level runtime directories:
   - Delete `pids/` (now in agentcore/runtime/pids/)
   - Delete `panes/` (now in agentcore/runtime/panes/)
   - Delete `tmp/` (now in agentcore/runtime/tmp/)
   - Delete `state/` if fully migrated
4. Add drift guard enforcement:
   - CI check that fails if new dot-directories appear
   - CI check that fails if coordination state appears outside agentcore
   - Pre-commit hook that warns about paths outside agentcore
5. Update all documentation references to remove mentions of old paths

**Validations**:
- Grep entire codebase for hardcoded `.beads/`, `.flywheel/`, `.agent-*` references
- Ensure zero references remain (or only in archived/deprecated code)
- Run full smoke test suite with NO legacy paths present
- Verify no scripts break when legacy symlinks don't exist

**Timeline**: 2-4 weeks after Phase 2 proven stable

**Result**:
```
AgentCore/                    # Repo root
├── agentcore/               # ALL coordination infrastructure (real files)
├── beads_rust/              # Peer component
├── flywheel_tools/          # Peer component
├── mcp_agent_mail/          # Peer component
├── scripts/                 # General project scripts
└── ARCHITECTURE.md          # Top-level docs
```

No dotdirs, no symlinks, no cruft. Just clean structure.

## Updated Migration Timeline

**Phase 1 (Week 1-2)**: Non-disruptive setup
- Create agentcore/ with OUTWARD symlinks
- Validation: everything still works
- Maintenance window: NO

**Phase 2 (Week 3-4)**: Authoritative migration
- Move files into agentcore
- Flip symlinks INWARD (legacy paths point to agentcore)
- Validation: everything still works with flipped symlinks
- Maintenance window: YES (brief)

**Phase 3 (Week 6-10)**: Complete cleanup
- Remove ALL legacy paths and symlinks
- Update all scripts to agentcore-only paths
- Drift guard enforcement
- Validation: everything works with NO legacy paths
- Maintenance window: NO (if done carefully with script updates first)

## Question for you:

Does Phase 3 complete the vision properly? Any additional cleanup or enforcement steps we should add?

User wants the clean end state - is there anything we're missing that would leave residual mess?
