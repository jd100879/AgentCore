{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://wezterm-automata.dev/schemas/wa-robot-get-text.json",
  "title": "WA Robot Get-Text Response",
  "description": "Schema for the data field when calling 'wa robot get-text <pane_id>'. Returns pane text content.",
  "type": "object",
  "required": ["pane_id", "text", "tail_lines", "escapes_included"],
  "properties": {
    "pane_id": {
      "type": "integer",
      "minimum": 0,
      "description": "The pane ID that was queried"
    },
    "text": {
      "type": "string",
      "description": "The captured text content from the pane"
    },
    "tail_lines": {
      "type": "integer",
      "minimum": 0,
      "description": "Number of lines requested (may differ from actual lines returned)"
    },
    "escapes_included": {
      "type": "boolean",
      "description": "Whether ANSI escape sequences are included in the text"
    },
    "truncated": {
      "type": "boolean",
      "description": "True if the output was truncated due to size limits"
    },
    "truncation_info": {
      "type": "object",
      "description": "Details about truncation (present when truncated=true)",
      "properties": {
        "original_bytes": {
          "type": "integer",
          "minimum": 0,
          "description": "Original size in bytes before truncation"
        },
        "returned_bytes": {
          "type": "integer",
          "minimum": 0,
          "description": "Size in bytes after truncation"
        },
        "original_lines": {
          "type": "integer",
          "minimum": 0,
          "description": "Original line count before truncation"
        },
        "returned_lines": {
          "type": "integer",
          "minimum": 0,
          "description": "Line count after truncation"
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
