apiVersion: v1
kind: Secret
metadata:
  name: mdwb-secrets
  namespace: mdwb
  labels:
    app: markdown-web-browser
type: Opaque
stringData:
  # OCR API credentials (REQUIRED)
  OLMOCR_API_KEY: "YOUR_OLMOCR_API_KEY_HERE"
  OLMOCR_SERVER: "https://ai2endpoints.cirrascale.ai/api"

  # Webhook secret for signed callbacks
  WEBHOOK_SECRET: "CHANGE_ME_TO_RANDOM_STRING"

  # Redis connection (for job queue)
  REDIS_HOST: "mdwb-redis"
  REDIS_PORT: "6379"
  REDIS_PASSWORD: ""  # Optional, leave empty if no password

  # API authentication
  # Generate API keys using: kubectl exec -it deployment/mdwb-web -- python scripts/manage_api_keys.py create "admin"
  MDWB_API_KEY: ""  # Optional, for internal service-to-service calls

---
# Instructions for creating secrets from this template:
#
# 1. Copy this template:
#    cp k8s/secret.yaml.template k8s/secret.yaml
#
# 2. Edit k8s/secret.yaml and replace placeholder values:
#    - OLMOCR_API_KEY: Get from https://ai2endpoints.cirrascale.ai
#    - WEBHOOK_SECRET: Generate with: openssl rand -hex 32
#    - Other values as needed for your deployment
#
# 3. Apply the secret:
#    kubectl apply -f k8s/secret.yaml
#
# 4. DO NOT commit k8s/secret.yaml to git!
#    It's in .gitignore for safety.
#
# Alternative: Use kubectl to create secret directly
#    kubectl create secret generic mdwb-secrets \
#      --from-literal=OLMOCR_API_KEY="your-key" \
#      --from-literal=WEBHOOK_SECRET="$(openssl rand -hex 32)" \
#      --namespace=mdwb
